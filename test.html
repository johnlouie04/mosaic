<!doctype html>
<html>
<head>
	<title></title>
	<script type="text/javascript" src="/shared/scripts/external/jquery.js"></script>
	<script type="text/javascript" src="/shared/scripts/bam.js"></script>
	<script type="text/javascript" src="/shared/scripts/jsloader.min.js"></script>
	<script src="/shared/scripts/bam/required.js"></script>
	<script>
		function getRandomInt (min, max) {
		    return Math.floor(Math.random() * (max - min + 1)) + min;
		}
		$(document).ready(function(){
			bam.require([{mosaic: "./mosaic"}]).then(function(require) {
				var begetMosaic = require("./mosaic").beget;
				
				var container = document.getElementById('mosaiccontainer');
				var html = '';
				for( var i = 0; i < 200; i += 1 ) {
					html += '<div class="box style'+getRandomInt(1,3)+'"></div>';
				}
				container.innerHTML = html;

				var mosaic = begetMosaic(container, 100);
				mosaic.init();
				console.log(mosaic);
				mosaic.tile();

			});
		});
	</script>
	<style rel="stylesheet">
		.box {
			float: left;
			padding: 5px;
			border: 5px solid white;
		}
		.box.style1 {
			height: 80px;
			width: 80px;
			background-color: red;
		}
		.box.style2 {
			height: 80px;
			width: 180px;
			background-color: yellow;
		}
		.box.style3 {
			height: 180px;
			width: 280px;
			background-color: blue
		}
	</style>
</head>
<body>
<div id="mosaiccontainer">
</div>
</body>
</html>