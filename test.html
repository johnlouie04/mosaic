<!doctype html>
<html>
<head>
	<title></title>
	<style rel="stylesheet">
		#mosaiccontainer {
			position: relative;
		}
		.box {
			float: left;
			padding: 5px;
			border: 5px solid white;
		}
		.box.wide1 {
			width: 80px;
			background-color: red;
		}
		.box.wide2 {
			width: 180px;
			background-color: yellow;
		}
		.box.wide3 {
			width: 280px;
			background-color: blue
		}

		.box.high1 {
			height: 80px;
		}
		.box.high2 {
			height: 180px;
		}
		.box.high3 {
			height: 280px;
		}
	</style>
</head>
<body>
<div id="mosaiccontainer">
</div>
</body>
<script src="lib/require.js"></script>
<script type="text/javascript">

	function getRandomInt (min, max) {
	    return Math.floor(Math.random() * (max - min + 1)) + min;
	}
	require(['mosaic'], function(mosaicModule) {
		var begetMosaic = mosaicModule.beget;
		
		var container = document.getElementById('mosaiccontainer');
		var html = '';
		for( var i = 0; i < 500; i += 1 ) {
			var num = getRandomInt(1,3);
			var num2 = getRandomInt(1,3);
			html += '<div class="box wide'+num+' high'+num2+'">'+(i+1)+'</div>';
		}
		container.innerHTML = html;

		var mosaic = begetMosaic(container, 100, 'top');
		mosaic.init();
		console.log(mosaic);
		mosaic.tile();
	});
</script>
</html>